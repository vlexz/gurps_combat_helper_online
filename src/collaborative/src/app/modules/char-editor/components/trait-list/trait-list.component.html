
<h3>{{category}}s</h3>
<table>
  <tr>
    <th>Name</th>
    <th>Cost</th>
    <th> </th>
  </tr>
  <tr *ngFor="let trait of filtered; let i = index">
    <td>
      <input type="text" [(ngModel)]="trait.name" (change)="traitChanged($event)">
    </td>
    <td>
      <input class="cost" type="number" [(ngModel)]="trait.cpBase" (change)="traitChanged()">
    </td>
    <td><a (click)="removeTrait(i)">Remove</a></td>
  </tr>
  <tr>
    <td colspan="3">
      <div class="search_block">
        <input type="text" [(ngModel)]="searchTerm" placeholder="Search"><span>or</span><a (click)="addTrait()">Add New</a>
        <div class="search_results" *ngIf="search_results">
          <table>
            <tr *ngFor="let res of search_results; let i = index">
              <td>{{res.name}}</td>
              <td><a (click)="addFromSearch(i)">Add</a></td>
            </tr>
            <tr>
              <td><a (click)="cancelSearch()">Cancel Search</a></td>
            </tr>
          </table>
        </div>
      </div>
    </td>
  </tr>
</table>